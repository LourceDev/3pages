# 3pages

3pages is a writing app.

Use it to

- dump your thoughts, reflect, journal
- practice writing
- and more

## Table of contents

- [3pages](#3pages)
  - [Table of contents](#table-of-contents)
  - [Server setup](#server-setup)
    - [Rust server](#rust-server)
      - [Install dependencies](#install-dependencies)
      - [.env](#env)
      - [Set up database](#set-up-database)
      - [Start the server](#start-the-server)
    - [Node.js server](#nodejs-server)
      - [Install dependencies](#install-dependencies-1)
      - [.env.development](#envdevelopment)
      - [Set up database](#set-up-database-1)
      - [Start dev server](#start-dev-server)
  - [Client setup](#client-setup)
    - [Install dependencies](#install-dependencies-2)
    - [.env](#env-1)
    - [Start client](#start-client)
  - [Ideas](#ideas)
  - [Contributing](#contributing)

---

## Server setup

### Rust server

#### Install dependencies

This installs Prisma which is used to manage the database schema.

```sh
npm install
```

#### .env

```sh
DATABASE_URL="sqlite:data.db"
DATABASE_URL_PRISMA="file:data.db"
# generate JWT_SECRET: $ node -e "console.log(require('crypto').randomBytes(32).toString('hex'));"
JWT_SECRET=
PORT=3030
RUST_LOG=debug
```

#### Set up database

```sh
npm run migrate # create sqlite database and apply migrations
npx prisma studio # optionally open prisma studio to view db
```

#### Start the server

```sh
cargo run
```

### Node.js server

#### Install dependencies

```sh
npm install
```

#### .env.development

<!-- https://www.digitalocean.com/community/tutorials/nodejs-jwt-expressjs#step-1-generating-a-token -->

```sh
DATABASE_URL="file:./dev.db"
# generate JWT_SECRET: $ node -e "console.log(require('crypto').randomBytes(32).toString('hex'));"
JWT_SECRET=
NODE_ENV=development
PORT=3030
```

#### Set up database

```sh
npm run dev:prisma migrate deploy # apply migrations
# npm run dev:prisma db push # in case we throw away migrations, push the current schema to db
npm run dev:prisma generate # generate types
npm run dev:prisma studio # optionally open prisma studio to view db
```

#### Start dev server

```sh
npm run dev
```

## Client setup

### Install dependencies

```sh
npm install
```

### .env

```
NEXT_PUBLIC_SERVER_BASE_URL=http://localhost:3030
```

### Start client

```sh
npm run dev
```

## Ideas

Have other cool ideas? [Open an issue!](https://github.com/LourceDev/3pages/issues)

- autosave and <kbd>ctrl</kbd>+<kbd>s</kbd> support
- make it self hostable, with configurable dbs, like sqlite, postgres, etc. (initial support only for postgres) (how to impl? use db abstraction layer ([ref](https://www.reddit.com/r/opensource/comments/z3p28p/comment/ixnig2t/)))
- pwa support
- default design should be minimal, use pastel and light colors, be cute and friendly
- hacker mode with dark theme, monospace font, terminal-like interface ([ref](https://www.reddit.com/r/digitaljournaling/comments/1fiv9bn/journaling_in_command_line/))
- self AI which has access to all your writings, can answer questions about them, etc. ([ref](https://www.reddit.com/r/digitaljournaling/comments/1enyhjd/i_fed_my_journal_into_an_ai_it_was_scary/)) (bring your own key)
- prose linter ([ref](https://vale.sh/))
- hemingway editor ([ref](https://hemingwayapp.com/))
- command pallette similar to monkey type or vscode ([ref](https://monkeytype.com/) (press <kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>p</kbd>))
- journal/writing prompts ([ref](https://journalprompts.net/))
  - can be user configurable i.e. user can add their own prompts
- memories like google photos, which shows you your past entries on the same day, or similar entries
- wrote down some banger thoughts? share them by selecting text and clicking share button
- highlighting text, all these highlighted texts can be viewed in a separate page
- autogenerated tags based on the text you write, which can be used to filter your entries
- english words autocomplete
- markdown support

## Contributing

Contributions are welcome `:)`

Before creating a pull request, [create an issue](https://github.com/LourceDev/3pages/issues) to discuss your idea or bug fix.
